# Спецификация интерфейса - Каталог Молочных продуктов

## Общее описание
Приложение представляет собой Windows Forms приложение для управления каталогом молочных продуктов с тремя основными формами.

---

## 1. Главная форма (Form1) - "Каталог Молочных продуктов"

### Заголовок окна
`Каталог Молочных продуктов`

### Основные элементы интерфейса

#### 1.1 Заголовок формы
- **Элемент:** Label
- **Текст:** "Каталог Молочных продуктов"
- **Шрифт:** Microsoft Sans Serif, 16pt, Bold
- **Расположение:** Верхняя часть формы

#### 1.2 Таблица данных
- **Элемент:** DataGridView
- **Назначение:** Отображение списка молочных продуктов
- **Столбцы:**
  - ProductId (ID товара)
  - ProductName (Название товара)
  - Price (Цена)
  - Category (Категория)
  - ExpiryDays (Срок годности в днях)
  - Description (Описание)
- **Размер:** 776 x 300 пикселей
- **Расположение:** Центральная часть формы

#### 1.3 Группа кнопок управления (первый ряд)
- **Кнопка "Цена"**
  - Размер: 100 x 30 пикселей
  - Функция: Вычисление статистики по ценам

- **Кнопка "Сортировка по возр."**
  - Размер: 150 x 30 пикселей
  - Функция: Сортировка товаров по цене по возрастанию

- **Кнопка "Сортировка по убыв."**
  - Размер: 150 x 30 пикселей
  - Функция: Сортировка товаров по цене по убыванию

- **Кнопка "Поиск"**
  - Размер: 100 x 30 пикселей
  - Функция: Поиск товара по точному названию

#### 1.4 Поле поиска
- **Элемент:** TextBox
- **Размер:** 198 x 23 пикселя
- **Назначение:** Ввод названия товара для поиска
- **Подпись:** "Поиск по названию:"

#### 1.5 Поля статистики
- **Поле "Максимальная:"**
  - Элемент: TextBox (только для чтения)
  - Размер: 100 x 23 пикселя
  - Назначение: Отображение максимальной цены

- **Поле "Минимальная:"**
  - Элемент: TextBox (только для чтения)
  - Размер: 100 x 23 пикселя
  - Назначение: Отображение минимальной цены

- **Поле "Средняя:"**
  - Элемент: TextBox (только для чтения)
  - Размер: 100 x 23 пикселя
  - Назначение: Отображение средней цены

#### 1.6 Поиск по первым символам
- **Кнопка "Поиск по символам"**
  - Размер: 150 x 30 пикселей
  - Функция: Поиск товаров по первым символам названия

- **Поле ввода "Первые символы:"**
  - Элемент: TextBox
  - Размер: 150 x 23 пикселя
  - Назначение: Ввод первых символов названия

#### 1.7 Кнопки навигации
- **Кнопка "Продажи"**
  - Размер: 138 x 30 пикселей
  - Функция: Открытие формы продаж

- **Кнопка "Детали продаж"**
  - Размер: 138 x 30 пикселей
  - Функция: Открытие формы деталей продаж

- **Кнопка "Тест подключения"**
  - Размер: 138 x 30 пикселей
  - Функция: Открытие формы диагностики подключения к БД

### Размер формы
- **Ширина:** 800 пикселей
- **Высота:** 520 пикселей

---

## 2. Форма продаж (SaleForm) - "Продажи"

### Заголовок окна
`Продажи`

### Основные элементы интерфейса

#### 2.1 Заголовок формы
- **Элемент:** Label
- **Текст:** "Продажи"
- **Шрифт:** Microsoft Sans Serif, 16pt, Bold

#### 2.2 Таблица данных
- **Элемент:** DataGridView
- **Назначение:** Отображение списка продаж
- **Столбцы:**
  - SaleId (ID продажи)
  - SaleDate (Дата продажи)
  - CustomerName (Имя клиента)
  - TotalAmount (Общая сумма)
- **Размер:** 776 x 300 пикселей

#### 2.3 Кнопки управления
- **Кнопка "Сорт. по дате"**
  - Размер: 120 x 30 пикселей
  - Функция: Сортировка продаж по дате

- **Кнопка "Сорт. по сумме"**
  - Размер: 120 x 30 пикселей
  - Функция: Сортировка продаж по сумме (по убыванию)

- **Кнопка "Поиск клиента"**
  - Размер: 120 x 30 пикселей
  - Функция: Поиск продаж по имени клиента

- **Кнопка "Вычислить"**
  - Размер: 100 x 30 пикселей
  - Функция: Вычисление статистики по суммам

#### 2.4 Поле поиска клиента
- **Элемент:** TextBox
- **Размер:** 200 x 23 пикселя
- **Назначение:** Ввод имени клиента для поиска

#### 2.5 Поля статистики по суммам
- **Поле "Максимальная:"** (сумма)
- **Поле "Минимальная:"** (сумма)
- **Поле "Средняя:"** (сумма)
- Все поля: TextBox (только для чтения), размер 100 x 23 пикселя

### Размер формы
- **Ширина:** 800 пикселей
- **Высота:** 520 пикселей

---

## 3. Форма деталей продаж (SaleDetailsForm) - "Детали продаж"

### Заголовок окна
`Детали продаж`

### Основные элементы интерфейса

#### 3.1 Заголовок формы
- **Элемент:** Label
- **Текст:** "Детали продаж"
- **Шрифт:** Microsoft Sans Serif, 16pt, Bold

#### 3.2 Таблица данных
- **Элемент:** DataGridView
- **Назначение:** Отображение деталей продаж с информацией о товарах
- **Столбцы:**
  - SaleDetailId (ID детали)
  - SaleId (ID продажи)
  - ProductName (Название товара)
  - CustomerName (Имя клиента)
  - Quantity (Количество)
  - UnitPrice (Цена за единицу)
  - Total (Общая стоимость = Quantity × UnitPrice)
- **Размер:** 776 x 300 пикселей

#### 3.3 Кнопки управления
- **Кнопка "Сорт. по количеству"**
  - Размер: 150 x 30 пикселей
  - Функция: Сортировка по количеству товара (по убыванию)

- **Кнопка "Поиск товара"**
  - Размер: 120 x 30 пикселей
  - Функция: Поиск записей по названию товара

- **Кнопка "Вычислить"**
  - Размер: 100 x 30 пикселей
  - Функция: Вычисление статистики по количеству

#### 3.4 Поле поиска товара
- **Элемент:** TextBox
- **Размер:** 200 x 23 пикселя
- **Назначение:** Ввод названия товара для поиска

#### 3.5 Поля статистики по количеству
- **Поле "Максимальное:"** (количество)
- **Поле "Минимальное:"** (количество)
- **Поле "Среднее:"** (количество)
- Все поля: TextBox (только для чтения), размер 100 x 23 пикселя

### Размер формы
- **Ширина:** 800 пикселей
- **Высота:** 520 пикселей

---

## 4. Форма диагностики (ConnectionTestForm) - "Тест подключения к базе данных"

### Заголовок окна
`Тест подключения к базе данных`

### Основные элементы интерфейса

#### 4.1 Поле результатов
- **Элемент:** TextBox (многострочный)
- **Размер:** 560 x 280 пикселей
- **Свойства:** 
  - Multiline = true
  - ScrollBars = Vertical
  - ReadOnly = true
  - Font = Consolas, 9pt
- **Назначение:** Отображение результатов диагностики

#### 4.2 Кнопки управления
- **Кнопка "Автоматическая настройка"**
  - Размер: 180 x 35 пикселей
  - Цвет фона: LightGreen
  - Функция: Автоматическое создание БД и настройка подключения

- **Кнопка "Тест подключения"**
  - Размер: 120 x 35 пикселей
  - Функция: Проверка различных вариантов подключения

- **Кнопка "Создать БД"**
  - Размер: 120 x 35 пикселей
  - Функция: Создание базы данных с найденным подключением

### Размер формы
- **Ширина:** 600 пикселей
- **Высота:** 400 пикселей
- **Позиция:** По центру экрана

---

## 5. Цветовая схема и стиль

### Общие настройки
- **Шрифт по умолчанию:** Microsoft Sans Serif, 9pt
- **Шрифт заголовков:** Microsoft Sans Serif, 16pt, Bold
- **Цвет фона форм:** Стандартный системный цвет
- **Цвет текста:** Черный

### Специальные элементы
- **Поля только для чтения:** Серый фон
- **Кнопка автонастройки:** Светло-зеленый фон (LightGreen)
- **Таблицы данных:** Стандартное оформление DataGridView

---

## 6. Функциональные особенности

### Обработка ошибок
- Все операции с базой данных обернуты в try-catch блоки
- Пользователю показываются понятные сообщения об ошибках
- При ошибке подключения предлагается использовать диагностику

### Навигация
- Формы открываются как отдельные окна (Show(), не ShowDialog())
- Главная форма остается доступной при открытии других форм
- Форма диагностики открывается модально (ShowDialog())

### Автоматические функции
- Автоматическое определение рабочей строки подключения
- Автоматическое создание базы данных при необходимости
- Автоматическое обновление данных после операций

---

## 7. Технические требования

### Платформа
- .NET 8.0 Windows Forms
- Windows операционная система
- SQL Server / SQL Server Express / LocalDB

### Разрешение экрана
- Минимальное разрешение: 1024x768
- Рекомендуемое разрешение: 1280x720 и выше

### Зависимости
- Entity Framework Core 8.0
- Microsoft.Data.SqlClient
- System.Windows.Forms

---

*Документ создан для лабораторной работы №9 - Вариант 25 "Класс Молочные продукты"*