# Новая функциональность - Кнопка "Показать в формате"

## Что добавлено:

### 1. Новая кнопка во второй секции
- **Расположение:** В GroupBox "2. Сложная привязка - SaleDetails"
- **Название:** "Показать в формате"
- **Цвет:** Светло-зеленый (LightGreen)
- **Функция:** Открывает отдельное окно с данными в формате как на рисунке 1

### 2. Новое окно DetailDisplayWindow
- **Размер:** 350x400 пикселей
- **Стиль:** Фиксированный размер, по центру экрана
- **Содержимое:** 4 поля в вертикальном расположении:
  - Артикул
  - Наименование  
  - Цена
  - Количество

### 3. Логика работы:

#### Шаг 1: Проверка данных
```csharp
var currentDetail = stDetail.DataContext as SaleDetails;
if (currentDetail == null)
{
    MessageBox.Show("Сначала загрузите данные детали продажи!");
    return;
}
```

#### Шаг 2: Получение данных
- **Если есть загруженный объект Product:** Берет данные из `currentDetail.Product`
- **Если нет объекта:** Берет данные из TextBox элементов на форме

#### Шаг 3: Отображение
- Создается новое окно `DetailDisplayWindow`
- Данные передаются через метод `SetData()`
- Окно открывается модально (`ShowDialog()`)

### 4. Как использовать:

1. **Загрузите данные:** Нажмите "Загрузить первый SaleDetail"
2. **Откройте окно:** Нажмите "Показать в формате" 
3. **Просмотрите данные:** В новом окне увидите данные в формате рисунка 1
4. **Закройте окно:** Нажмите "Закрыть"

### 5. Особенности:

- **Автоматическое заполнение:** Данные берутся из привязанного контекста
- **Резервный вариант:** Если нет объекта, данные берутся из TextBox
- **Форматирование цены:** Цена отображается с 4 знаками после запятой
- **Только для чтения:** Все поля в окне недоступны для редактирования
- **Информативность:** После открытия окна показывается сообщение в txtInfo

### 6. Файлы проекта:

- `DetailDisplayWindow.xaml` - XAML разметка нового окна
- `DetailDisplayWindow.xaml.cs` - Код-behind нового окна  
- `MainWindow.xaml` - Обновлен: добавлена кнопка и имена для TextBox
- `MainWindow.xaml.cs` - Обновлен: добавлен метод `ShowFormattedData_Click`

### 7. Демонстрация привязок:

Новая функциональность демонстрирует:
- **Получение данных из DataContext** - `stDetail.DataContext as SaleDetails`
- **Доступ к связанным объектам** - `currentDetail.Product.nameProduct`
- **Резервное получение данных** - из TextBox элементов
- **Передачу данных между окнами** - через методы `SetData()`

Эта функциональность дополняет лабораторную работу по привязкам данных, показывая практическое применение полученных данных в отдельном окне с красивым форматированием.