-- Создание тестовых данных для демонстрации привязок данных
USE Familia22i1L9;
GO

-- Очистка таблиц (если нужно)
-- DELETE FROM SaleDetails;
-- DELETE FROM Sale;
-- DELETE FROM Product;

-- Вставка тестовых продуктов
INSERT INTO Product (nameProduct, priceProduct, Category, ExpiryDays, Description) VALUES
('Молоко пастеризованное 3.2%', 65.50, 'Молоко', 5, 'Натуральное коровье молоко'),
('Творог зерненый 9%', 120.00, 'Творог', 7, 'Творог с натуральными сливками'),
('Йогурт питьевой клубничный', 45.30, 'Йогурт', 14, 'С кусочками клубники'),
('Сметана домашняя 20%', 85.00, 'Сметана', 10, 'Густая домашняя сметана'),
('Кефир традиционный 2.5%', 55.20, 'Кефир', 5, 'Кисломолочный напиток'),
('Ряженка украинская 4%', 60.00, 'Ряженка', 7, 'Традиционная ряженка'),
('Масло сливочное 82.5%', 180.00, 'Масло', 30, 'Натуральное сливочное масло'),
('Сыр российский твердый', 350.00, 'Сыр', 60, 'Твердый сыр классический'),
('Простокваша мечниковская', 48.00, 'Простокваша', 4, 'Кисломолочный продукт'),
('Снежок ванильный', 42.50, 'Снежок', 7, 'Сладкий молочный коктейль');

-- Вставка тестовых продаж
INSERT INTO Sale (SaleDate, CustomerName, TotalAmount) VALUES
('2024-01-15 10:30:00', 'Иванов И.И.', 346.60),
('2024-01-16 14:20:00', 'Петрова А.С.', 275.80),
('2024-01-17 09:15:00', 'Сидоров П.П.', 190.00),
('2024-01-18 16:45:00', 'Козлова М.В.', 425.30),
('2024-01-19 11:30:00', 'Морозов Д.А.', 310.50);

-- Вставка деталей продаж
INSERT INTO SaleDetails (IdSale, IdProductDetailSale, QuantityProduct, UnitPrice) VALUES
-- Продажа 1
(1, 1, 2, 65.50),  -- Молоко
(1, 2, 1, 120.00), -- Творог
(1, 3, 3, 45.30),  -- Йогурт
-- Продажа 2
(2, 4, 1, 85.00),  -- Сметана
(2, 5, 2, 55.20),  -- Кефир
(2, 6, 1, 60.00),  -- Ряженка
-- Продажа 3
(3, 7, 1, 180.00), -- Масло
(3, 8, 1, 350.00), -- Сыр
-- Продажа 4
(4, 9, 3, 48.00),  -- Простокваша
(4, 10, 2, 42.50), -- Снежок
(4, 1, 1, 65.50),  -- Молоко
-- Продажа 5
(5, 2, 1, 120.00), -- Творог
(5, 4, 1, 85.00),  -- Сметана
(5, 6, 2, 60.00),  -- Ряженка
(5, 8, 1, 350.00); -- Сыр

-- Проверка данных
SELECT 'Продукты:' as Info;
SELECT idProduct, nameProduct, priceProduct, Category FROM Product;

SELECT 'Продажи:' as Info;
SELECT IdSale, SaleDate, CustomerName, TotalAmount FROM Sale;

SELECT 'Детали продаж с продуктами:' as Info;
SELECT sd.IdDetailSale, sd.IdSale, sd.IdProductDetailSale, p.nameProduct, sd.QuantityProduct, sd.UnitPrice
FROM SaleDetails sd
INNER JOIN Product p ON sd.IdProductDetailSale = p.idProduct
ORDER BY sd.IdSale, sd.IdDetailSale;

PRINT 'Тестовые данные успешно созданы!';